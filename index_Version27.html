<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Login | Minha Agenda Web</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;400&family=Pacifico&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(120deg, #43cea2 0%, #185a9d 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Montserrat', Arial, sans-serif;
      margin: 0;
      overflow: hidden;
    }

    /* Bolhas animadas no fundo */
    .bubble {
      position: absolute;
      border-radius: 50%;
      opacity: 0.30;
      animation: bubbleMove 15s infinite linear;
      z-index: 0;
    }
    .bubble1 { width: 140px; height: 140px; background: #f7b801; left: 8vw; top: 10vh; animation-duration: 19s;}
    .bubble2 { width: 90px; height: 90px; background: #ff7750; right: 12vw; top: 26vh; animation-duration: 13s;}
    .bubble3 { width: 60px; height: 60px; background: #00df6f; left: 26vw; bottom: 12vh; animation-duration: 17s;}
    .bubble4 { width: 110px; height: 110px; background: #f7b801; right: 18vw; bottom: 14vh; animation-duration: 21s;}
    .bubble5 { width: 50px; height: 50px; background: #ff7750; left: 60vw; top: 5vh; animation-duration: 11s;}
    @keyframes bubbleMove {
      0% { transform: translateY(0) scale(1);}
      50% { transform: translateY(-60px) scale(1.15);}
      100% { transform: translateY(0) scale(1);}
    }

    .login-box {
      position: relative;
      background: rgba(36, 36, 41, 0.97);
      border-radius: 38px;
      padding: 48px 36px 32px 36px;
      box-shadow: 0 10px 40px #18181b77;
      width: 370px;
      max-width: 97vw;
      text-align: center;
      z-index: 2;
      overflow: visible;
      animation: fadeInUp 1.1s;
    }

    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(50px);}
      100% { opacity: 1; transform: translateY(0);}
    }

    .logo {
      width: 94px;
      height: 94px;
      object-fit: cover;
      border-radius: 26px;
      background: #fff;
      margin-bottom: 18px;
      margin-top: 0px;
      box-shadow: 0 4px 20px #43cea244, 0 2px 16px #ff775040;
      display: block;
      margin-left: auto;
      margin-right: auto;
      animation: logoPop 1s;
    }
    @keyframes logoPop {
      0% { transform: scale(0.6) rotate(-16deg);}
      60% { transform: scale(1.09) rotate(6deg);}
      100% { transform: scale(1) rotate(0);}
    }

    .titulo {
      font-family: 'Pacifico', cursive;
      color: #f7b801;
      font-size: 2.5rem;
      letter-spacing: -1.5px;
      margin-bottom: 8px;
      margin-top: 0px;
      text-shadow: 0 4px 24px #18181b33;
      animation: textFadeIn 1.7s 0.15s both;
    }
    @keyframes textFadeIn {
      from { opacity: 0; transform: translateY(-30px);}
      to { opacity: 1; transform: translateY(0);}
    }

    .subtitulo {
      color: #8d8d91;
      font-size: 1.11rem;
      font-weight: 400;
      margin-bottom: 28px;
      margin-top: 3px;
      letter-spacing: 0.1px;
      animation: textFadeIn 1.6s 0.25s both;
    }

    .login-form, .register-form {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      text-align: left;
      margin-bottom: 18px;
      animation: fadeInUp 1.2s 0.15s both;
    }
    .login-form label, .register-form label {
      color: #f7eedc;
      font-size: 1.03rem;
      margin-top: 1rem;
      font-weight: 600;
      letter-spacing: 0.3px;
    }
    .login-form input, .register-form input {
      margin-top: 8px;
      padding: 15px 16px;
      border-radius: 14px;
      border: none;
      font-size: 1.08rem;
      background: #232328;
      color: #f7eedc;
      outline: none;
      box-shadow: 0 2px 10px #18181b33;
      transition: border 0.25s, box-shadow 0.25s, background 0.18s;
      border: 2.3px solid #43cea2;
      background: linear-gradient(90deg, #232328 85%, #43cea2 140%);
    }
    .login-form input:focus, .register-form input:focus {
      border: 2.3px solid #f7b801;
      background: #232328;
      box-shadow: 0 3px 16px #f7b80144;
    }

    .entrar-btn, .register-btn {
      margin-top: 2.1rem;
      padding: 15px 0;
      background: linear-gradient(90deg, #f7b801 0%, #ff7750 100%);
      color: #232328;
      font-weight: bold;
      font-size: 1.16em;
      border: none;
      border-radius: 17px;
      cursor: pointer;
      transition: background 0.25s, color 0.2s, box-shadow 0.2s, transform 0.18s;
      box-shadow: 0 2px 10px #f7b80133;
      letter-spacing: 1.5px;
      animation: btnPulse 1.4s infinite alternate;
    }
    @keyframes btnPulse {
      0% { transform: scale(1);}
      80% { transform: scale(1.04);}
      100% { transform: scale(1.02);}
    }
    .entrar-btn:hover, .register-btn:hover {
      background: linear-gradient(90deg, #ff7750 0%, #f7b801 100%);
      color: #fff;
      box-shadow: 0 6px 24px #ff775077;
      transform: scale(1.07);
    }

    .switch-link {
      margin-top: 1.2rem;
      background: none;
      border: none;
      color: #43cea2;
      font-size: 1em;
      font-weight: 700;
      cursor: pointer;
      text-decoration: underline;
      transition: color 0.2s, text-shadow 0.2s;
      text-shadow: 0 1px 7px #43cea244;
    }
    .switch-link:hover { color: #f7b801; text-shadow: 0 2px 20px #f7b80133;}

    .erro-msg, .sucesso-msg {
      margin-top: 1.3rem;
      min-height: 1.3em;
      text-align: center;
      font-size: 1em;
      font-weight: 600;
      letter-spacing: .2px;
      transition: color 0.3s;
      animation: fadeInUp 1.1s 0.15s both;
    }
    .erro-msg { color: #ff7750; }
    .sucesso-msg { color: #00df6f; }

    footer {
      margin-top: 2.2rem;
      font-size: 0.93rem;
      color: #fff;
      letter-spacing: 0.1px;
      opacity: 0.95;
      text-shadow: 0 1px 8px #43cea244;
      z-index: 2;
      position: relative;
    }

    @media (max-width: 500px) {
      .login-box { padding: 9vw 2vw 5vw 2vw; width: 96vw;}
      .logo { width: 62px; height: 62px;}
      .titulo { font-size: 1.3em;}
    }
  </style>
</head>
<body>
  <!-- Bolhas animadas decorativas -->
  <div class="bubble bubble1"></div>
  <div class="bubble bubble2"></div>
  <div class="bubble bubble3"></div>
  <div class="bubble bubble4"></div>
  <div class="bubble bubble5"></div>

  <div class="login-box">
    <!-- Troque por sua logo bonita -->
    <img src="imagens/logo.jpg" alt="Logo Minha Agenda" class="logo">
    <div class="titulo">Minha Agenda Web</div>
    <div class="subtitulo">Organize sua rotina com estilo</div>

    <!-- Formulário de Login -->
    <form id="loginForm" class="login-form" autocomplete="on">
      <label for="usuario">Usuário</label>
      <input type="text" id="usuario" name="usuario" required placeholder="Seu usuário" autocomplete="username">
      <label for="senha">Senha</label>
      <input type="password" id="senha" name="senha" required placeholder="Sua senha" autocomplete="current-password">
      <button type="submit" class="entrar-btn">Entrar</button>
      <button type="button" class="switch-link" id="toRegisterBtn">Criar nova conta</button>
    </form>

    <!-- Formulário de Cadastro -->
    <form id="registerForm" class="register-form" style="display:none;" autocomplete="on">
      <label for="novoUsuario">Novo Usuário</label>
      <input type="text" id="novoUsuario" name="novoUsuario" required placeholder="Escolha um usuário" autocomplete="username">
      <label for="novaSenha">Senha</label>
      <input type="password" id="novaSenha" name="novaSenha" required placeholder="Crie uma senha" autocomplete="new-password">
      <button type="submit" class="register-btn">Registrar</button>
      <button type="button" class="switch-link" id="toLoginBtn">Já tenho conta</button>
    </form>

    <div id="mensagem" class="erro-msg"></div>
    <footer>
      <small>&copy; 2025 Minha Agenda Web. Todos os direitos reservados.</small>
    </footer>
  </div>
  <script>
    // Utilitários de usuários (localStorage)
    function getUsers() {
      let users = JSON.parse(localStorage.getItem('usuariosAgenda') || '[]');
      if(users.length === 0) {
        users = [{ usuario: 'admin', senha: '1234', nome: 'Administrador' }];
        localStorage.setItem('usuariosAgenda', JSON.stringify(users));
      }
      return users;
    }
    function setUsers(users) {
      localStorage.setItem('usuariosAgenda', JSON.stringify(users));
    }
    // Alternar Login/Cadastro
    const loginForm = document.getElementById('loginForm');
    const registerForm = document.getElementById('registerForm');
    const mensagem = document.getElementById('mensagem');
    document.getElementById('toRegisterBtn').onclick = function() {
      loginForm.style.display = 'none';
      registerForm.style.display = 'flex';
      mensagem.textContent = '';
    };
    document.getElementById('toLoginBtn').onclick = function() {
      registerForm.style.display = 'none';
      loginForm.style.display = 'flex';
      mensagem.textContent = '';
    };
    // Login
    loginForm.onsubmit = function(e) {
      e.preventDefault();
      const usuario = document.getElementById('usuario').value.trim();
      const senha = document.getElementById('senha').value;
      const users = getUsers();
      const user = users.find(u => u.usuario === usuario && u.senha === senha);
      if (user) {
        localStorage.setItem('usuarioLogado', JSON.stringify(user));
        mensagem.textContent = '';
        mensagem.className = "sucesso-msg";
        mensagem.textContent = "Login realizado! Redirecionando...";
        setTimeout(() => { window.location.href = 'agenda.html'; }, 1200);
      } else {
        mensagem.className = "erro-msg";
        mensagem.textContent = "Usuário ou senha incorretos!";
      }
    };
    // Cadastro
    registerForm.onsubmit = function(e) {
      e.preventDefault();
      const novoUsuario = document.getElementById('novoUsuario').value.trim();
      const novaSenha = document.getElementById('novaSenha').value;
      if (!novoUsuario || !novaSenha) return;
      let users = getUsers();
      if (users.find(u => u.usuario === novoUsuario)) {
        mensagem.className = "erro-msg";
        mensagem.textContent = "Usuário já existe!";
        return;
      }
      users.push({ usuario: novoUsuario, senha: novaSenha, nome: novoUsuario });
      setUsers(users);
      mensagem.className = "sucesso-msg";
      mensagem.textContent = "Cadastro realizado com sucesso! Faça login.";
      setTimeout(() => {
        registerForm.style.display = 'none';
        loginForm.style.display = 'flex';
        mensagem.textContent = '';
      }, 1500);
    };
  </script>
</body>
</html>
